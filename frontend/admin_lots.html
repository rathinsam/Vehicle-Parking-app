<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manage Parking Lots</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Vue.js -->
    <script src="https://unpkg.com/vue@3/dist/vue.global.prod.js"></script>
</head>
<body>
    <style>
                body{
                    background-color: rgb(121, 19, 126);
                }
            </style>
    <div class="container py-4" id="lotManagementApp">
        <!-- Header -->
        <div class="d-flex justify-content-between align-items-center mb-4">
            <h2>Manage Parking Lots</h2>
            <div>
                <button class="btn btn-secondary me-2" @click="goBack">Back to Dashboard</button>
                <button class="btn btn-danger" @click="logout">Logout</button>
            </div>
        </div>

        <!-- Add Lot Form -->
        <div class="card shadow-sm p-3 mb-4">
            <h4>Add New Lot</h4>
            <div class="row">
                <div class="col-md-4 mb-3">
                    <input type="text" class="form-control" v-model="newLot.name" placeholder="Lot Name">
                </div>
                <div class="col-md-4 mb-3">
                    <input type="text" class="form-control" v-model="newLot.address" placeholder="Address">
                </div>
                <div class="col-md-4 mb-3">
                    <input type="text" class="form-control" v-model="newLot.pin_code" placeholder="Pin Code">
                </div>
                <div class="col-md-3 mb-3">
                    <input type="number" class="form-control" v-model="newLot.price" placeholder="Price/hour">
                </div>
                <div class="col-md-3 mb-3">
                    <input type="number" class="form-control" v-model="newLot.total_spots" placeholder="Total Spots">
                </div>
                <div class="col-md-3 mb-3">
                    <button class="btn btn-primary w-100" @click="addLot">Add Lot</button>
                </div>
            </div>
            <div v-if="message" class="alert alert-info mt-2">{{ message }}</div>
        </div>

        <!-- Lots Table -->
        <h4>Existing Lots</h4>
        <table class="table table-bordered">
            <thead class="table-light">
                <tr>
                    <th>Name</th>
                    <th>Address</th>
                    <th>Pin</th>
                    <th>Price/hour</th>
                    <th>Total Spots</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                <tr v-for="lot in lots" :key="lot.id">
                    <td><input type="text" v-model="lot.name" class="form-control"></td>
                    <td><input type="text" v-model="lot.address" class="form-control"></td>
                    <td><input type="text" v-model="lot.pin_code" class="form-control"></td>
                    <td><input type="number" v-model="lot.price" class="form-control"></td>
                    <td><input type="number" v-model="lot.total_spots" class="form-control"></td>
                    <!-- <td>{{ lot.total_spots }}</td> -->
                    <td>
                        <button class="btn btn-success btn-sm me-2" @click="updateLot(lot)">Save</button>
                        <button class="btn btn-danger btn-sm" @click="deleteLot(lot.id)">Delete</button>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>

    <!-- Custom JS -->
    <script src="admin_lots.js"></script>
</body>
</html>
